<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Why should ASP.NET developers consider SignalR for ALL projects? by Kevin Griffin</title><meta name="gridsome:hash" content="782414107f461c86c0093807ec9a7009f522142f"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.11"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mali:700|Nunito"><link rel="preload" href="/assets/css/0.styles.dc844d61.css" as="style"><link rel="preload" href="/assets/js/app.a597a7b1.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-article-vue.fe6cfc9d.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.e4711ebb.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.e8d64122.js"><link rel="stylesheet" href="/assets/css/0.styles.dc844d61.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout"><header class="header"><a href="/" class="heading-link active"><h6 class="heading"></h6></a></header><div class="article"><h1>Why should ASP.NET developers consider SignalR for ALL projects?</h1><span>July 09, 2012</span><div class="content"><p>The concept of the “static” web went away a long time ago.  When web developers started looking towards jQuery to build “ajax” web applications, we hit a wall where an instance of a page was a dynamic object to be manipulated.</p>
<p>This turned even more when the first HTML5 specs came down the line, and we were introduced to WebSockets.  An amazing idea: a client application being able to connect directly to a server for communication purposes.  I’ve said it before: <em>software development works in a circle.</em>  If you’ve ever written a client-server application, you know what I mean.  In my 9th grade computer science class, I wrote a version of Battleship that used Berkley sockets to communicate peer to peer with a computer over the network.  Fourteen years later, I’m doing the same thing again but on the web.</p>
<p>The problem we face when dealing with technologies like WebSockets is that it’s not universally supported across all browser and server stacks.  If we focus on .NET developers, the majority of us are running web applications on IIS version 6 or 7.  WebSockets are only officially supported on IIS version 8.</p>
<p>If your users are using IE6-9, you’re also at a loss.  Internet Explorer 10 is the only Microsoft browser to support WebSockets out of the box.  Chrome, Firefox, Safari, and Opera users don’t need to worry – they’re covered.</p>
<p>So if we can’t have WebSockets, can we still have a rich peer to peer communication stack like WebSockets? <strong>YES.</strong></p>
<p>There are various ways to implement solutions.  For example, a long time ago I used to implement ‘Interval Polling’ on my applications.  On a standard interval, say 60 seconds, I would go to the server and request new data.  If the server has data to return, that was the time to do it.  If not, the cycles are wasted.  Obviously, this is a huge bandwidth drain and the overhead of each call is cumbersome.</p>
<p>Other solutions include long polling, which is the same as interval polling, except the request remains open until the server decides to return data or until the connection times out.  Then there is Server Sent Events, which don’t even ask me about.  I understand it’s based off some old Netscape technology, but that’s about it.</p>
<p>There are a lot of solutions.  Some only work on newer browsers.  It’s a chore: how do you support multiple clients without tons of code rewrite?</p>
<p><strong>The answer my friends, is SignalR</strong></p>
<p>SignalR is a framework for building asynchronous applications.  For web developers, that means I can build applications that break the request->response cycle of the web and move to more of a one-on-one connection that old client server architectures used to offer.</p>
<p>The mistake a lot of developers make is assuming that SignalR is strictly for web.  That’s incorrect.  For you server infrastructure, ASP.NET is the most common way to building your applications.  However, you can also self host SignalR and also host using the OWIN standard.</p>
<p>As far as clients are concerned, JavaScript is the main way.  In fact, when I demo SignalR it’s 100% all JavaScript.  I do make a point of touching on the fact that SignalR is also support in Silverlight, Windows Phone, iOS, OSX, and even in regular ol’ C#.  If you have a single server implementation, you can use multiple clients to connect to it.</p>
<p><strong>Ok, Griff.  This must complicated to code, right?</strong></p>
<p>I would be a bad blogger if I just left you hanging.  Here’s my 5 minute SignalR demo for you:</p>
<p>[tube]<a href="http://www.youtube.com/watch?v=tEBaDo_sFfA%5B/tube" target="_blank" rel="nofollow noopener noreferrer">http://www.youtube.com/watch?v=tEBaDo_sFfA[/tube</a>]</p>
<p>The video does a really good job of showing you all the steps.  There are two parts to a basic SignalR application.  First is the server side, which we build a construct called a <strong>Hub</strong>.  Think of a Hub as a central location for all connections for your application.</p>
<p>Like code?  Here is ALL the C# I write to implement a server-side function:</p>
<pre>public class ChatHub : SignalR.Hubs.Hub
    {
        public void BroadcastMessage(string message)
        {
            // rebroadcast the message to all the connected clients
            Clients.writeMessage(message);
        }
    }</pre>
<p>The most confusing thing here might be this mysterious <em>Clients</em> object.  The Clients object is dynamic, meaning you can set properties or call methods on it that might not really exist physically.  SignalR will take all those calls and translate them into messages that are sent to each client currently connected to the hub.</p>
<p>Here’s a look at the code over on the client:</p>
<pre>&lt;script type="text/javascript" src="~/Scripts/jquery.signalR-0.5.2.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" src="SignalR/Hubs"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
        $(document).ready(function () {
            var chat = $.connection.chatHub;
            chat.writeMessage = function (msg) {
                $("#messages").append("&lt;li&gt;" + msg + "&lt;/li&gt;");
            }

            $("#buttonSubmit").click(function () {
                chat.broadcastMessage($("#txtInput").val());
            });

            $.connection.hub.start();
        });
    &lt;/script&gt;</pre>
<p>The request to the SignalR JavaScript file is straight forward, but then there is this magical request to <em>SignalR/Hubs</em> that you might be wondering about.  This file is dynamically generated by SignalR.  It gives your page all the information it needs to talk back to any Hubs you might have created.  Because of this, I can use the object <em>$.connection.chatHub</em> and JavaScript doesn’t throw a fit.  It’s a real object!</p>
<p>I use the chatHub object in two different ways.  First, I create a new function off of it called writeMessage.  This is called <strong>from the server</strong>.  WAT?  Yes!  If you look at the hub code above, I’m calling <em>Clients.writeMessage<strong> </strong></em>and the client has a method called <em>writeMessage</em>!</p>
<p>Just below that is a call to<em> chat.broadcastMessage.  </em>Look back at the hub, the method broadcastMessage is defined!  The circle of life is complete.</p>
<p>Ok.  LASTLY, there is this call to <em>$.connection.hub.start()<strong>.  </strong></em>This method kicks off the transport negotiation between your server and client.  Websockets?  Long pollings?  Blah blah blah.  You can override all this stuff, but just let SignalR do what it does best.</p>
<p><strong>And there you have it!</strong></p>
<p>SignalR is extremely easy to use, and I’m definitely recommending it as a replacement for 90% of the .NET AJAX work I’m seeing done in the community.  Take a couple minutes, download the package via NuGet and try it out for yourself.  You won’t be disappointed.</p>
<p>Feel free to ask any questions, and hit me up on the Twitters <a href="http://twitter.com/1kevgriff">@1kevgriff</a>.</p>
</div></div></div>
    <script>window.__INITIAL_STATE__={"data":{"article":{"id":"2585edf8e0393a3dd34646023c7ce0cf","title":"Why should ASP.NET developers consider SignalR for ALL projects?","date":"July 09, 2012","categories":["Development - ASP.NET"],"permalink":"why-should-asp-net-developers-consider-signalr-for-all-projects","content":"\u003Cp\u003EThe concept of the “static” web went away a long time ago.  When web developers started looking towards jQuery to build “ajax” web applications, we hit a wall where an instance of a page was a dynamic object to be manipulated.\u003C\u002Fp\u003E\n\u003Cp\u003EThis turned even more when the first HTML5 specs came down the line, and we were introduced to WebSockets.  An amazing idea: a client application being able to connect directly to a server for communication purposes.  I’ve said it before: \u003Cem\u003Esoftware development works in a circle.\u003C\u002Fem\u003E  If you’ve ever written a client-server application, you know what I mean.  In my 9th grade computer science class, I wrote a version of Battleship that used Berkley sockets to communicate peer to peer with a computer over the network.  Fourteen years later, I’m doing the same thing again but on the web.\u003C\u002Fp\u003E\n\u003Cp\u003EThe problem we face when dealing with technologies like WebSockets is that it’s not universally supported across all browser and server stacks.  If we focus on .NET developers, the majority of us are running web applications on IIS version 6 or 7.  WebSockets are only officially supported on IIS version 8.\u003C\u002Fp\u003E\n\u003Cp\u003EIf your users are using IE6-9, you’re also at a loss.  Internet Explorer 10 is the only Microsoft browser to support WebSockets out of the box.  Chrome, Firefox, Safari, and Opera users don’t need to worry – they’re covered.\u003C\u002Fp\u003E\n\u003Cp\u003ESo if we can’t have WebSockets, can we still have a rich peer to peer communication stack like WebSockets? \u003Cstrong\u003EYES.\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EThere are various ways to implement solutions.  For example, a long time ago I used to implement ‘Interval Polling’ on my applications.  On a standard interval, say 60 seconds, I would go to the server and request new data.  If the server has data to return, that was the time to do it.  If not, the cycles are wasted.  Obviously, this is a huge bandwidth drain and the overhead of each call is cumbersome.\u003C\u002Fp\u003E\n\u003Cp\u003EOther solutions include long polling, which is the same as interval polling, except the request remains open until the server decides to return data or until the connection times out.  Then there is Server Sent Events, which don’t even ask me about.  I understand it’s based off some old Netscape technology, but that’s about it.\u003C\u002Fp\u003E\n\u003Cp\u003EThere are a lot of solutions.  Some only work on newer browsers.  It’s a chore: how do you support multiple clients without tons of code rewrite?\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EThe answer my friends, is SignalR\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ESignalR is a framework for building asynchronous applications.  For web developers, that means I can build applications that break the request-\u003Eresponse cycle of the web and move to more of a one-on-one connection that old client server architectures used to offer.\u003C\u002Fp\u003E\n\u003Cp\u003EThe mistake a lot of developers make is assuming that SignalR is strictly for web.  That’s incorrect.  For you server infrastructure, ASP.NET is the most common way to building your applications.  However, you can also self host SignalR and also host using the OWIN standard.\u003C\u002Fp\u003E\n\u003Cp\u003EAs far as clients are concerned, JavaScript is the main way.  In fact, when I demo SignalR it’s 100% all JavaScript.  I do make a point of touching on the fact that SignalR is also support in Silverlight, Windows Phone, iOS, OSX, and even in regular ol’ C#.  If you have a single server implementation, you can use multiple clients to connect to it.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EOk, Griff.  This must complicated to code, right?\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EI would be a bad blogger if I just left you hanging.  Here’s my 5 minute SignalR demo for you:\u003C\u002Fp\u003E\n\u003Cp\u003E[tube]\u003Ca href=\"http:\u002F\u002Fwww.youtube.com\u002Fwatch?v=tEBaDo_sFfA%5B\u002Ftube\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fwww.youtube.com\u002Fwatch?v=tEBaDo_sFfA[\u002Ftube\u003C\u002Fa\u003E]\u003C\u002Fp\u003E\n\u003Cp\u003EThe video does a really good job of showing you all the steps.  There are two parts to a basic SignalR application.  First is the server side, which we build a construct called a \u003Cstrong\u003EHub\u003C\u002Fstrong\u003E.  Think of a Hub as a central location for all connections for your application.\u003C\u002Fp\u003E\n\u003Cp\u003ELike code?  Here is ALL the C# I write to implement a server-side function:\u003C\u002Fp\u003E\n\u003Cpre\u003Epublic class ChatHub : SignalR.Hubs.Hub\n    {\n        public void BroadcastMessage(string message)\n        {\n            \u002F\u002F rebroadcast the message to all the connected clients\n            Clients.writeMessage(message);\n        }\n    }\u003C\u002Fpre\u003E\n\u003Cp\u003EThe most confusing thing here might be this mysterious \u003Cem\u003EClients\u003C\u002Fem\u003E object.  The Clients object is dynamic, meaning you can set properties or call methods on it that might not really exist physically.  SignalR will take all those calls and translate them into messages that are sent to each client currently connected to the hub.\u003C\u002Fp\u003E\n\u003Cp\u003EHere’s a look at the code over on the client:\u003C\u002Fp\u003E\n\u003Cpre\u003E&lt;script type=\"text\u002Fjavascript\" src=\"~\u002FScripts\u002Fjquery.signalR-0.5.2.js\"&gt;&lt;\u002Fscript&gt;\n    &lt;script type=\"text\u002Fjavascript\" src=\"SignalR\u002FHubs\"&gt;&lt;\u002Fscript&gt;\n    &lt;script type=\"text\u002Fjavascript\"&gt;\n        $(document).ready(function () {\n            var chat = $.connection.chatHub;\n            chat.writeMessage = function (msg) {\n                $(\"#messages\").append(\"&lt;li&gt;\" + msg + \"&lt;\u002Fli&gt;\");\n            }\n\n            $(\"#buttonSubmit\").click(function () {\n                chat.broadcastMessage($(\"#txtInput\").val());\n            });\n\n            $.connection.hub.start();\n        });\n    &lt;\u002Fscript&gt;\u003C\u002Fpre\u003E\n\u003Cp\u003EThe request to the SignalR JavaScript file is straight forward, but then there is this magical request to \u003Cem\u003ESignalR\u002FHubs\u003C\u002Fem\u003E that you might be wondering about.  This file is dynamically generated by SignalR.  It gives your page all the information it needs to talk back to any Hubs you might have created.  Because of this, I can use the object \u003Cem\u003E$.connection.chatHub\u003C\u002Fem\u003E and JavaScript doesn’t throw a fit.  It’s a real object!\u003C\u002Fp\u003E\n\u003Cp\u003EI use the chatHub object in two different ways.  First, I create a new function off of it called writeMessage.  This is called \u003Cstrong\u003Efrom the server\u003C\u002Fstrong\u003E.  WAT?  Yes!  If you look at the hub code above, I’m calling \u003Cem\u003EClients.writeMessage\u003Cstrong\u003E \u003C\u002Fstrong\u003E\u003C\u002Fem\u003Eand the client has a method called \u003Cem\u003EwriteMessage\u003C\u002Fem\u003E!\u003C\u002Fp\u003E\n\u003Cp\u003EJust below that is a call to\u003Cem\u003E chat.broadcastMessage.  \u003C\u002Fem\u003ELook back at the hub, the method broadcastMessage is defined!  The circle of life is complete.\u003C\u002Fp\u003E\n\u003Cp\u003EOk.  LASTLY, there is this call to \u003Cem\u003E$.connection.hub.start()\u003Cstrong\u003E.  \u003C\u002Fstrong\u003E\u003C\u002Fem\u003EThis method kicks off the transport negotiation between your server and client.  Websockets?  Long pollings?  Blah blah blah.  You can override all this stuff, but just let SignalR do what it does best.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EAnd there you have it!\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ESignalR is extremely easy to use, and I’m definitely recommending it as a replacement for 90% of the .NET AJAX work I’m seeing done in the community.  Take a couple minutes, download the package via NuGet and try it out for yourself.  You won’t be disappointed.\u003C\u002Fp\u003E\n\u003Cp\u003EFeel free to ask any questions, and hit me up on the Twitters \u003Ca href=\"http:\u002F\u002Ftwitter.com\u002F1kevgriff\"\u003E@1kevgriff\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.a597a7b1.js" defer></script><script src="/assets/js/page--src-templates-article-vue.fe6cfc9d.js" defer></script>
  </body>
</html>
